<div class="list-group list-group-flush">
    <div class="sidebar-heading border-bottom bg-light p-3 text-center fw-bold">
        FSMS Hybrid
    </div>
    
    <!-- Links visible only when logged in -->
    <AuthorizeView>
        <Authorized>
            <NavLink class="list-group-item list-group-item-action list-group-item-light p-3" href="" Match="NavLinkMatch.All">
                <i class="bi bi-house-door-fill me-2"></i> Home
            </NavLink>
            <NavLink class="list-group-item list-group-item-action list-group-item-light p-3" href="counter">
                <i class="bi bi-plus-square-fill me-2"></i> Counter
            </NavLink>
            <NavLink class="list-group-item list-group-item-action list-group-item-light p-3" href="weather">
                <i class="bi bi-cloud-sun-fill me-2"></i> Weather
            </NavLink>
            
            <!-- Future Inventory Link -->
            <!-- <NavLink class="list-group-item list-group-item-action list-group-item-light p-3" href="inventory">
                <i class="bi bi-box-seam me-2"></i> Inventory
            </NavLink> -->
            
             <NavLink class="list-group-item list-group-item-action list-group-item-light p-3" href="profile">
                <i class="bi bi-person-circle me-2"></i> My Profile
            </NavLink>
            
            <div class="mt-4 border-top pt-2">
                 <button class="list-group-item list-group-item-action list-group-item-light p-3 text-danger" @onclick="HandleLogout">
                    <i class="bi bi-box-arrow-right me-2"></i> Logout
                </button>
            </div>
        </Authorized>
        <NotAuthorized>
            <!-- No links for unauthorized users, they are redirected anyway -->
             <div class="p-3 text-muted small text-center">
                 Please log in to access menu.
             </div>
        </NotAuthorized>
    </AuthorizeView>
</div>

@inject Services.SupabaseService DbService
@inject NavigationManager Navigation

@code {
    private async Task HandleLogout()
    {
        await DbService.LogoutAsync();
        Navigation.NavigateTo("login", true);
    }
}
